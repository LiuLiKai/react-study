<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<title>state & 生命周期</title>
		<meta charset="utf-8">
		<script src="react.js"></script>
		<script src="react-dom.js"></script>
		<script src="browser.min.js"></script>
	</head>
	<body>
		<div id="root"></div>
	</body>
	<script type="text/babel">
		class Clock extends React.Component{

			constructor(props) {
				super(props);
				this.state = {
					date: new Date()
				};
			}

			componentDidMount() {
				this.timerId = setInterval(
					() => this.tick(),
					1000
				);
			}

			componentWillUnmount() {
				clearInterval(this.timerId);
			}

			tick() {
				this.setState({
					date: new Date()
				});
			}

			render() {
				return (
					<div>
						<h1>Hello, World!</h1>
						<h2>It is {this.state.date.toLocaleTimeString()}</h2>
					</div>
				);
			}
		}

		function App() {

			return (
				<div>
					<Clock />
					<Clock />
					<Clock />
				</div>
			)
		}

		ReactDOM.render(
			<App />,
			document.getElementById('root')
		)
	</script>
</html>